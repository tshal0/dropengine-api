import { Collection } from "@mikro-orm/core";
import moment from "moment";
import { DbProduct } from "@catalog/domain/entities/Product.entity";
import { DbProductVariant } from "@catalog/domain/entities/ProductVariant.entity";
import { IProductProps } from "@catalog/domain/interfaces";
import { DbProductType } from "@catalog/domain/entities/ProductType.entity";

jest
  .spyOn(global.Date, "now")
  .mockImplementation(() => new Date("2021-01-01T00:00:00.000Z").valueOf());
const now = moment().toDate();

export const baseDbProduct: DbProduct = {
  id: "00000000-0000-0000-0000-000000000002",
  sku: "MEM-001-01",
  type: "2DMetalArt",
  pricingTier: "1",
  tags: ["test-1", "test 2", "test3"],
  // categories: ["For Him", "Nautical", "New Arrivals"],
  image: "image",
  svg: "svg",
  customOptions: [
    {
      label: "Bottom Text",
      maxLength: 12,
      name: "bottom_text",
      options: undefined,
      pattern: "^[a-zA-Z0-9\\s.,()&$#@/]*$",
      placeholder: "Enter up to 12 characters",
      required: true,
      type: "input",
    },
    {
      label: "Initial",
      maxLength: undefined,
      name: "initial",
      options: "A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z",
      pattern: undefined,
      placeholder: "Select your initial here",
      required: true,
      type: "dropdown",
    },
    {
      label: "Name",
      maxLength: 20,
      name: "name",
      options: undefined,
      pattern: "^[a-zA-Z0-9\\s.,'/&]*",
      placeholder: "Enter up to 20 characters",
      required: true,
      type: "input",
    },
    {
      label: "Top Text",
      maxLength: 12,
      name: "top_text",
      options: undefined,
      pattern: "^[a-zA-Z0-9\\s.,()&$#@/]*$",
      placeholder: "Enter up to 12 characters",
      required: true,
      type: "input",
    },
  ],
  variants: new Collection<DbProductVariant>(this),
  updatedAt: now,
  createdAt: now,
  props: function (): IProductProps {
    return {
      id: "00000000-0000-0000-0000-000000000002",
      type: "2DMetalArt",
      pricingTier: "1",
      sku: "MEM-001-01",
      tags: ["test-1", "test 2", "test3"],
      // categories: ["For Him", "Nautical", "New Arrivals"],
      image: "image",
      svg: "svg",
      customOptions: [
        {
          label: "Bottom Text",
          maxLength: 12,
          name: "bottom_text",
          options: undefined,
          pattern: "^[a-zA-Z0-9\\s.,()&$#@/]*$",
          placeholder: "Enter up to 12 characters",
          required: true,
          type: "input",
        },
        {
          label: "Initial",
          maxLength: undefined,
          name: "initial",
          options: "A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z",
          pattern: undefined,
          placeholder: "Select your initial here",
          required: true,
          type: "dropdown",
        },
        {
          label: "Name",
          maxLength: 20,
          name: "name",
          options: undefined,
          pattern: "^[a-zA-Z0-9\\s.,'/&]*",
          placeholder: "Enter up to 20 characters",
          required: true,
          type: "input",
        },
        {
          label: "Top Text",
          maxLength: 12,
          name: "top_text",
          options: undefined,
          pattern: "^[a-zA-Z0-9\\s.,()&$#@/]*$",
          placeholder: "Enter up to 12 characters",
          required: true,
          type: "input",
        },
      ],
      variants: [],
      updatedAt: now,
      createdAt: now,
    };
  },
  productType: new DbProductType(),
};
export const baseProductProps: IProductProps = {
  id: "00000000-0000-0000-0000-000000000002",
  pricingTier: "1",
  sku: "MEM-001-01",
  type: "2DMetalArt",
  tags: ["test-1", "test 2", "test3"],
  // categories: ["For Him", "Nautical", "New Arrivals"],
  image: "image",
  svg: "svg",
  customOptions: [
    {
      name: "bottom_text",
      label: "Bottom Text",
      placeholder: "Enter up to 12 characters",
      required: true,
      type: "input",
      maxLength: 12,
      pattern: "^[a-zA-Z0-9\\s.,()&$#@/]*$",
      options: undefined,
    },
    {
      name: "initial",
      label: "Initial",
      placeholder: "Select your initial here",
      required: true,
      type: "dropdown",
      maxLength: undefined,
      pattern: undefined,
      options: "A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z",
    },
    {
      name: "name",
      label: "Name",
      placeholder: "Enter up to 20 characters",
      required: true,
      type: "input",
      maxLength: 20,
      pattern: "^[a-zA-Z0-9\\s.,'/&]*",
      options: undefined,
    },
    {
      name: "top_text",
      label: "Top Text",
      placeholder: "Enter up to 12 characters",
      required: true,
      type: "input",
      maxLength: 12,
      pattern: "^[a-zA-Z0-9\\s.,()&$#@/]*$",
      options: undefined,
    },
  ],
  createdAt: now,
  updatedAt: now,
  variants: [],
};

export const newProductProps: IProductProps = {
  id: "00000000-0000-0000-0000-000000000002",
  sku: "MEM-001-01",
  pricingTier: "1",
  type: "2DMetalArt",
  tags: ["test-1", "test 2", "test3"],
  image: "image",
  svg: "svg",
  customOptions: [
    {
      name: "bottom_text",
      label: "Bottom Text",
      placeholder: "Enter up to 12 characters",
      required: true,
      type: "input",
      maxLength: 12,
      pattern: "^[a-zA-Z0-9\\s.,()&$#@/]*$",
      options: undefined,
    },
    {
      name: "initial",
      label: "Initial",
      placeholder: "Select your initial here",
      required: true,
      type: "dropdown",
      maxLength: undefined,
      pattern: undefined,
      options: "A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z",
    },
    {
      name: "name",
      label: "Name",
      placeholder: "Enter up to 20 characters",
      required: true,
      type: "input",
      maxLength: 20,
      pattern: "^[a-zA-Z0-9\\s.,'/&]*",
      options: undefined,
    },
    {
      name: "top_text",
      label: "Top Text",
      placeholder: "Enter up to 12 characters",
      required: true,
      type: "input",
      maxLength: 12,
      pattern: "^[a-zA-Z0-9\\s.,()&$#@/]*$",
      options: undefined,
    },
  ],
  createdAt: now,
  updatedAt: now,
  variants: [],
};
export const newDbProduct: DbProduct = {
  id: "00000000-0000-0000-0000-000000000002",
  pricingTier: "1",
  sku: "MEM-001-01",
  type: "2DMetalArt",
  tags: ["test-1", "test 2", "test3"],
  // categories: ["For Him", "Nautical", "New Arrivals"],
  image: "image",
  svg: "svg",
  customOptions: [
    {
      name: "bottom_text",
      label: "Bottom Text",
      placeholder: "Enter up to 12 characters",
      required: true,
      type: "input",
      maxLength: 12,
      pattern: "^[a-zA-Z0-9\\s.,()&$#@/]*$",
      options: undefined,
    },
    {
      name: "initial",
      label: "Initial",
      placeholder: "Select your initial here",
      required: true,
      type: "dropdown",
      maxLength: undefined,
      pattern: undefined,
      options: "A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z",
    },
    {
      name: "name",
      label: "Name",
      placeholder: "Enter up to 20 characters",
      required: true,
      type: "input",
      maxLength: 20,
      pattern: "^[a-zA-Z0-9\\s.,'/&]*",
      options: undefined,
    },
    {
      name: "top_text",
      label: "Top Text",
      placeholder: "Enter up to 12 characters",
      required: true,
      type: "input",
      maxLength: 12,
      pattern: "^[a-zA-Z0-9\\s.,()&$#@/]*$",
      options: undefined,
    },
  ],
  createdAt: now,
  updatedAt: now,
  variants: new Collection<DbProductVariant>(this),
  props: function (): IProductProps {
    return {
      ...newProductProps,
    };
  },
  productType: new DbProductType(),
};
